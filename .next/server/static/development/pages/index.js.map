{"version":3,"file":"static/development/pages/index.js","sources":["webpack:///webpack/bootstrap","webpack:///./lib/hera/config.js","webpack:///./lib/hera/i18n.js","webpack:///./lib/hera/utils/index.js","webpack:///./lib/hera/utils/pageUtil.js","webpack:///./lib/hera/utils/withI18next.js","webpack:///./pages/index.js","webpack:///external \"@babel/runtime/regenerator\"","webpack:///external \"i18next\"","webpack:///external \"i18next-browser-languagedetector\"","webpack:///external \"i18next-express-middleware\"","webpack:///external \"i18next-node-fs-backend\"","webpack:///external \"i18next-xhr-backend\"","webpack:///external \"path\"","webpack:///external \"react\"","webpack:///external \"react-i18next\"","webpack:///external \"react-redux\""],"sourcesContent":[" \t// The module cache\n \tvar installedModules = require('../../../ssr-module-cache.js');\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tvar threw = true;\n \t\ttry {\n \t\t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n \t\t\tthrew = false;\n \t\t} finally {\n \t\t\tif(threw) delete installedModules[moduleId];\n \t\t}\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","/* User Settings - feel free to change */\nconst DEFAULT_LANGUAGE = \"en\";\nconst OTHER_LANGUAGES = [\"fr\", \"de\"];\nconst DEFAULT_NAMESPACE = \"common\";\nconst LOCALE_PATH = \"locales\";\nconst LOCALE_STRUCTURE = \"{{lng}}/{{ns}}\";\n// const LOCALE_SUBPATHS = true;\n\n/* Core Settings - only change if you understand what you're changing */\nconst config = {\n  translation: {\n    allLanguages: OTHER_LANGUAGES.concat([DEFAULT_LANGUAGE]),\n    defaultLanguage: DEFAULT_LANGUAGE,\n    fallbackLng: DEFAULT_LANGUAGE,\n    load: \"languageOnly\",\n    localesPath: `./lib/hera/${LOCALE_PATH}/`,\n    // localeSubpaths: LOCALE_SUBPATHS,\n    ns: [DEFAULT_NAMESPACE],\n    defaultNS: DEFAULT_NAMESPACE,\n    interpolation: {\n      escapeValue: false,\n      formatSeparator: \",\",\n      format: (value, format) =>\n        format === \"uppercase\" ? value.toUpperCase() : value\n    },\n    detection: {\n      order: [\"cookie\"],\n      caches: [\"cookie\"]\n    },\n    backend: {\n      loadPath: `${LOCALE_PATH}/${LOCALE_STRUCTURE}.json`,\n      addPath: `${LOCALE_PATH}/${LOCALE_STRUCTURE}.missing.json`\n    },\n    react: {\n      wait: true\n    }\n  }\n};\n\n/* SSR Settings - only change if you understand what you're changing */\nif (!process.browser) {\n  const path = require(\"path\");\n\n  const getAllNamespaces = p =>\n    fs.readdirSync(p).map(file => file.replace(\".json\", \"\"));\n\n  config.translation = {\n    ...config.translation,\n    preload: config.translation.allLanguages,\n    ns: [\"common\"],\n    detection: {\n      order: [\"xLangDetector\"]\n    },\n    backend: {\n      loadPath: path.join(__dirname, `${LOCALE_PATH}/${LOCALE_STRUCTURE}.json`),\n      addPath: path.join(\n        __dirname,\n        `${LOCALE_PATH}/${LOCALE_STRUCTURE}.missing.json`\n      )\n    }\n  };\n}\n\nmodule.exports = config;\n","const i18next = require(\"i18next\");\nconst i18nextXHRBackend = require(\"i18next-xhr-backend\");\nconst i18nextBrowserLanguageDetector = require(\"i18next-browser-languagedetector\");\n\nconst config = require(\"./config\");\n\nconst i18n = i18next.default ? i18next.default : i18next;\ni18n.nsFromReactTree = [];\n\nif (process.browser) {\n  // Serverside i18n setup\n  i18n.use(i18nextXHRBackend).use(i18nextBrowserLanguageDetector);\n} else {\n  // Clientside i18n setup\n  const i18nextNodeBackend = require(\"i18next-node-fs-backend\");\n  const i18nextMiddleware = require(\"i18next-express-middleware\");\n  const lngDetector = new i18nextMiddleware.LanguageDetector();\n  lngDetector.addDetector({\n    name: \"xLangDetector\",\n\n    lookup(req) {\n      // options -> are passed in options\n      return req.boot.lang;\n    }\n  });\n  i18n.use(i18nextNodeBackend).use(lngDetector);\n}\n\nif (!i18n.isInitialized) {\n  /*\n\n    This is the only place `init` should be called.\n    We can therefore expect this module to always\n    export an already-initialised i18n instance,\n    and save ourselves any potential confusion.\n  */\n  console.log(\"> initializing i18next\");\n  i18n.init(config.translation);\n}\n\n// a simple helper to getInitialProps passed on loaded i18next data\ni18n.getInitialProps = (req, namespaces) => {\n  if (!namespaces) namespaces = i18n.options.defaultNS;\n  if (typeof namespaces === \"string\") namespaces = [namespaces];\n\n  req.i18n.toJSON = () => null; // do not serialize i18next instance and send to client\n\n  const initialI18nStore = {};\n  req.i18n.languages.forEach(l => {\n    initialI18nStore[l] = {};\n    namespaces.forEach(ns => {\n      initialI18nStore[l][ns] =\n        (req.i18n.services.resourceStore.data[l] || {})[ns] || {};\n    });\n  });\n\n  return {\n    i18n: req.i18n, // use the instance on req - fixed language on request (avoid issues in race conditions with lngs of different users)\n    initialI18nStore,\n    initialLanguage: req.i18n.language\n  };\n};\n\nmodule.exports = i18n;\n","export * from \"./pageUtil\";\nexport { default as withI18next } from \"./withI18next\";\n","import { connect } from \"react-redux\";\nimport withI18next from \"./withI18next\";\n\nfunction prepareGetInitialProps(original) {\n  return async props => {\n    const bootRes = {}; // Do some async call\n    let originalResult = {};\n    if (original) {\n      originalResult = await original(\n        Object.assign({}, props, { boot: bootRes })\n      );\n    }\n    return Object.assign({}, originalResult, bootRes);\n  };\n}\n\nexport function withPage(mapStateToProps, mapDispatchToProps, namespaces = []) {\n  namespaces.push(\"common\");\n  return page => {\n    page.getInitialProps = prepareGetInitialProps(\n      page.getInitialProps,\n      namespaces\n    );\n    const withT = withI18next(namespaces)(page);\n    return connect(\n      mapStateToProps,\n      mapDispatchToProps\n    )(withT);\n  };\n}\n\nexport const isServer = () =>\n  !(typeof window !== \"undefined\" && window.document);\n","import { withNamespaces } from \"react-i18next\";\nimport i18n from \"../i18n\";\n\nexport default (namespaces = [\"common\"]) => ComposedComponent => {\n  const Extended = withNamespaces(namespaces, { wait: process.browser })(\n    ComposedComponent\n  );\n\n  Extended.getInitialProps = async ctx => {\n    const composedInitialProps = ComposedComponent.getInitialProps\n      ? await ComposedComponent.getInitialProps(ctx)\n      : {};\n\n    const i18nInitialProps = ctx.req\n      ? i18n.getInitialProps(ctx.req, namespaces)\n      : {};\n\n    return {\n      ...composedInitialProps,\n      ...i18nInitialProps\n    };\n  };\n\n  return Extended;\n};\n","import React from \"react\";\nimport { withI18next } from \"../lib/hera/utils/index\";\n\nconst IndexPage = ({ query, t }) => (\n  <div>\n    <button type=\"button\" className=\"btn btn-default\">\n      {t(\"common:faq_title\")}\n    </button>\n    <span>{query}</span>\n  </div>\n);\n\nIndexPage.getInitialProps = () => ({\n  query: \"eefe\"\n});\n\nexport default withI18next([])(IndexPage);\n","module.exports = require(\"@babel/runtime/regenerator\");","module.exports = require(\"i18next\");","module.exports = require(\"i18next-browser-languagedetector\");","module.exports = require(\"i18next-express-middleware\");","module.exports = require(\"i18next-node-fs-backend\");","module.exports = require(\"i18next-xhr-backend\");","module.exports = require(\"path\");","module.exports = require(\"react\");","module.exports = require(\"react-i18next\");","module.exports = require(\"react-redux\");"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACxFA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAHA;AAMA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AADA;AAvBA;AADA;AA8BA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AADA;AACA;AAEA;AAEA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AAFA;AAPA;AAeA;AACA;AACA;;;;;;;;;;;;AC/DA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAGA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AANA;AAQA;AACA;AACA;AACA;AACA;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAAA;AACA;AACA;AAHA;AAKA;AACA;AACA;;;;;;;;;;;;AC/DA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAHA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAKA;AAAA;AACA;AANA;AAIA;AACA;AALA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AACA;AAAA;AACA;AACA;AACA;AAIA;AACA;AAIA;AACA;AAEA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/BA;AACA;AAEA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AADA;AACA;AAIA;AALA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAcA;AACA;AArBA;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAFA;AACA;AAQA;AAAA;AACA;AADA;AAAA;AACA;AAGA;;;;;;;;;;;;;;;;;;;;;;;AChBA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;A","sourceRoot":""}